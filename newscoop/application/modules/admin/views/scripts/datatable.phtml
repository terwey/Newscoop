<?php $translator = \Zend_Registry::get('container')->getService('translator'); ?>
<table class="datatable" cellspacing="0" cellpadding="0">
<thead>
<tr>
    <?php foreach ($this->cols as $col) { ?>
    <th><?php echo $col; ?></th>
    <?php } ?>
</tr>
</thead>
<tbody>
<tr>
    <td class="message" colspan="<?php echo sizeof($this->cols); ?>"><?php echo $translator->trans('Loading..', array(), 'api'); ?></td>
</tr>
</tbody>
</table>
<script type="text/javascript">
var datatable;
$(function() {
    datatable = $('table.datatable')
        .wrap($('<div />').addClass('table')).wrap($('<div />').addClass('smartlist'))
        .css('position', 'relative').css('width', '100%')
        .dataTable(
            <?php echo $this->jsonified($this->iOptions, array('fnRowCallback', 'fnDrawCallback', 'fnServerData','fnInitComplete'));?>
        );
});
</script>
